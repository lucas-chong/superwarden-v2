const express=require("express"),path=require("path"),bodyParser=require("body-parser"),app=express();app.use(express.static(path.join(__dirname,"client/dist"))),app.use(bodyParser.json());var cors=require("cors");app.use(cors());var mongoose=require("mongoose");mongoose.Promise=require("bluebird"),mongoose.connect("mongodb+srv://doadmin:yh631728AJQZS9I5@superwarden-db-00429b97.mongo.ondigitalocean.com/admin?tls=true&authSource=admin",{}).then((()=>console.log("mongodb is connected"))).catch((e=>console.error(e))),app.get("/download",(function(e,o){const r=`${__dirname}/files/whitelist.xlsx`;o.download(r)}));const apiRoute=require("./src/api/route");app.use("/api/v1",apiRoute),app.get("*",((e,o)=>{o.sendFile(path.join(__dirname+"/client/dist/index.html"))}));const port=process.env.PORT||5e3;app.listen(port),console.log(`listening on ${port}`);